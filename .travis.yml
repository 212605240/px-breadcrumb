sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester@^5.0.0
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
env:
  global:
  - secure: kAHduxCFhVB2eNKQNzteykn7xDKAUhq2OWGGVGPB6kqlUmMqc1LJfW+gc4tzAxdiudKdYVPfy5G/U/FeHp8zbOLdrVkXYrSEt0MOGwPsyK7Ive4f9qxZBnNvMeTy9zz9bgVce89AOT/kJecDk+KZ0zKUkCSsPMxvkTxg1fw8uKuLMm6SK7N9tHosT7yHzXKpygKTnTdfoBojoi9zByVRcU8d2PLzIU6v9rTPElZAfceOYCm5aayRpQIemYxuC3di9qsNePK6Ga7lCXfaG6mVlyBeLQq+Lduq9bkNehR24nfwk/XvystAMEcUd59cATjPPQrSUbe24CjBcLQ4r+M4mlNtdy6CwQWhU63IHkh7+dITEseOwJ7szhwdxuW10adGO0x0Pn3aSj8bLcnLXhDNhMxvUtMw/euiRHvQV9ajo78MzhhtEDkaJ5bHPJpHJBCNvLtRmFCavQXpMZ0XjTkM0FMibalx0u5ikl0JV/7jAYFf3Kzo1QTFNvPluHKOuuCjW2SKyO2xO+gMK9y0HmqOuN69WF3uz8DHYQ4yK49l9ZlDKYp7MLW1gO4MZCFFniqKH+mfmrTvo/Zp80PY09E+TkjMbciUXUH0zxEsJ1z3VRYTrFUb0Hu9rybsE2/m3j3nmFq1BOLIK4oGgbLTWLmF9Vui6SO2hw4+9t9NwomGqvU=
  - secure: eFae9W3K3qchTvEsb2Z59qJ0Yse/T4IvblTF3oVWcieQOY3ctFJUEXq8fOOnXWsiOlFsc0QEQo+a9DeslN+mHHi25KLqC9+fRS4AiLynDz+mpH1tCfd4svvt2G/4pUSloD2B2KmXUvGfl9hYiWZcWRRc3sJC7Xho3huh/hW4a2LGwgQLyFoR620lqVHuV4jbUDFTCU7tuuu1bGcYDPfDC9Ju5nJeDkuIbc6dQsf0UE0gI5+fSilNn29U9TaH4DH1fDps0q9QB5TkuQBvCkD9lX+MCatgiSNT6HS/hWG46Z0DUyT2uvbIz/M8mSx0igUGbvYgxdmcH08GXCCCB3snMWIGJ/6CeUXvWXhvgteWv4mzUIOw1gU53jSB4HujyV5tCDn0Jo41tIWYTQSz35ZYqrjg5lfb6zB3jkNXvFPjrlEci/Xgqi0xPxZI+yOdHhGNeIM7pkjdElkW6i1Ipzw+vPowivDhrkyl6JOkQ1tBTc2qliOsFhxg7XXJEbast+jv36YlCaTNBG8Nmy8qX+9gkgT+7wNMfQPweGmNJCyFULvXBOom0UFAQqtLwHkKVXrNYrXQM5OLb6C8iC3NQ3ckPiHUNH5Amz4oEN3dhFC6/4KJDeKHn0f0pY4hX+Yh2TOrxoF0siFMt5fSeCp061602kR0DuwQm5AlBToPbQTZt7Y=
  - secure: ofEPkvwKG/xec9gSLcFUY+jcFCA78xxR3HFJgKzwDtIVHqyL0y4GV7R8sIInE75CtBmqOf4ABU0B84NyoMxqvCp1NqvJV3GjNvjW8XMlwWmB5Dbw3FFDx94NA9+v5PO+XfZdb7/vKTJy0Qi5RCUKeGLFY85kMHIewe6O0soF0bo3aW24VT4UHp4WDv3VO88QBtRWv39VDpBvbK+I+KXVRUfZQyXbdGjh87qcFpo3ZW+IDCpzQ5Sq+iILFGSZcdvYdwDLbLu/qu9ga954vZA+qZ/QHqaswa1ehctNkSSLpr0NMD1vElvCpY7A0pZ3v+1noiFpPuSw9SJZn5iQ7aIBu/eqLMJts7qsSePnnAsexSIi4uPaggHH0I3mIuN2oYtK1/mSW1c+Me8X+3CGvQCukC6CpGwmPEpWSUr4t1twZ1TjcHCQS17ogubUYkXEqzg8xGC3yp3rIUd7KgV89SrlQnUyNA6N+exOXmx6zLpsR7kWwC6x8ob4r0mFTIN8z160Cxrr44TRtlTQjoAAWXrIYSm4TFgcTvTOSLW8PazqcoB+1vE7RajhuOHpScsC04ZQKVzLm5NsnfWLTszDlV1Qq6XTqajphlQVMVFLZxwfSAxwNbu6u+glT+nQHWVcFYXIjl2jtU/H/GemBnWI3ZQJmBPVWSnDFnLBBGNm5OiX3ss=
  - secure: CZwvNpBLxr0aHDgKaRE2/em7hZz7aUEhwsP+Xc0PS685AmF5/Orf6LLuYyLBN3mhZkO7IyYYvU3ulVu5rZ57QMyB/usz9eQcjRuUkAfK/lZqdJW9g/zZpbxtWSjFIiksWSInXdiSZhcEudsQPwlAClslbgjLW+A2OZILEOCiaC5s/26RfS4RBPKGb4kA/g0X54AziMz+96uP2kD1Vpw8vkW612flhlka6teJxs+yl/wXaOffRW6Nbq4ut3xzAQ1ieWVBmExYhyOcAXQC0XgOwBnSIpLk+R0McSVz/X0LTWHBlsxCNf5vifURiJ7ZFsLmMXvg59qHomMf0IOiuhG6Qs8Fxt1398Bhjw5YPaKyibUqGwL550coLP1JYCZEvite/qQihO8OePkA8P5jU+YOIJGaPoWWlazakD4SZlAo3csm7CMPVusJfTKq4F7MeJ7Y40paEUE8ZOzt3WIXAfHgCBBVHMZYcuhJuo0UU5ySC6pScv4TBQGqkpzrnHer8O0zQcgqmirsXUY/rlYdY2Tfc3L50QSc5hacxja8nr1bFkCzGCxxbk1HVYO53tCqKgvWSsYVI2zWr7WT8M8hMauB2Thng36V2YoruoTbtyaQU9hn4BohBdCIl6avAoKc7YSneLCYcCn3k4jU/Wna/dO6isHZ5uGLQCMofX5JSgbsH24=
  - secure: pyVfMDDl0NwNr7XDUahxqg7A9IR1838Kx0yiLljsul3+b6XQP4ZTICDykelaLyLmBg7UskW2x8a2bJ/ktm8r2bM0dC4gyD5e5SrGzmp31lQUBRtEmt7rg2YoC81+oYn0RbdY1jEdTNYiRlw4NbPuekeaeNf4nm3CaK2pr9AGPWV9KRhBOeUqxdHhnniwYrsSzABk0gO/VRU6xOzlWQMKLBhxX8Oy3EfL/FEXZ8U3HmlioRe1kBg22k9rvymBkcfkEDnnTYPm1HV9KwrFprjlq1PZ/LBEvw61xuZOEdWGaOxLGeTGgMhQN/w6xk6NSLNayIg6++htatGzABW/ep8b0RWxvkqPzfz0qp74mmJAWS6u0+msWWJpm5K9xHIpYZRZZrrRadrgAU/RZR8n9T+Te2gqp1s3rus2goRDCRA5/zccf4xTyGo3BiB6B5W5hFT1tkPUbkuGeqjr7uQdFGJYhSXuh/Z8DrmmnQGH84hBoa+isOnJ0VtHthWpvBKrbdFXfXB6/BjbAuJjmhv9YqW9VBmuXLqGa3odVhjLnGu93fgGcm4/aEqE1eKvEWYBX5mL/AJm353ErCWzSJjRx36i5wd42RDHFqOyKsQYgEc4rARZRAaCELCf32Inzih/WiQiQvm+dZTwokfuNs9f+kUgvl4qe96a6O7f9atkkfyQGII=
  - secure: r1KKaelEIa4+UxJ2gA7v1ehuRazoks4b1qPnNuQjXvqyy8EIMN2jVi08qZ5NxmTle2JdiWSGl+htK6zI9OkoDuuojAL4qGxROPU532uxA/dXFIBMQTmWT66oTEc13wQNAKTRJsr/hS90EpK0ySF1iVme1VgdBNcDwcRMMfgh8WEo+p5xxSKIRES8I1vbaLo40PxqjHF+/SGdYroqIwAo2eykkSJv0DA5Otp+SPpwhEFAofDyObz5Ee6vozop72lxuTQNDHZbmwPwEzZRYePIDKWadlJHoFvdivf7/07SsESBpt/Xgvmx3H+gNiTiVUzUqITJReYOL5OySvsCXzZjzThb+34tptiyEx4UGAHVjfp5B4+sK00/Alwcs+tsyBeyPQ+7/SdE7Vn3eetHu104Ndo86dCvHxg3ErNxPMousflmegepbeLXmXUAVhWPFMUWzGmDy5N8gQt06gcXNvZI+z/C9dMMjwKqMLuVJPtVlmzNpTOnb6McB9y8lWOiHx28mFC7LGE07SwDq0+WjpbtmQNItaGu2CVkfohVTVLQGR1wAjSoTLgoj+f5PxyGFh+RWdMTxq4CYhgXuCO008ef1etvld5Nzu7jn0N6B9bGy3l++YAfixAK6EujFBFHc5Wug2egAUgdevZgXcNoYcNppEKvdNVCADqPAfPjfjEsdMM=
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
